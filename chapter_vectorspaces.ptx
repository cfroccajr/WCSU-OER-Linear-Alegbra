<?xml version="1.0" encoding="UTF-8" ?>

<!--********************************************************************
Copyright 2017 Charles F. Rocca Jr

This file is part of a MathBook XML project.

This project is focused on creating a brief inquiry based text for 
use in a introductory course in cryptology for non-technical students.  
The material is presented, whenever possible, in a historically honest 
manner.

Copyright 2015 Robert A. Beezer

This file is part of MathBook XML.

MathBook XML is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 or version 3 of the
License (at your option).

MathBook XML is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with MathBook XML.  If not, see <http://www.gnu.org/licenses/>.
*********************************************************************-->

<chapter xml:id="spaces" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Vector Spaces</title>

<!-- Objectives -->
    <objectives>
            <ul>
                <li> Understand vector spaces both algebraically and graphically.</li>
                <li> Understand bases, linear independence, and span.</li>
                <li> Be able to connect the ideas of basis and solutions to systems of equations.</li>
                <li> Be able to connect ideas about row and column spaces of a matris with bases.</li>
                <li> See how to use a computer algebra system to help ...</li>
            </ul>
    </objectives>


<!-- Introduction -->

    <introduction>
        <p>
            In this unit we will be exploring basic concepts surrounding vector spaces.  Particular emphasis will be placed on 
            connecting vector spaces and subspaces with matrices and solutions to equations.
        </p>
    </introduction>

<!-- Vector spaces and subspaces -->

    <section xml:id="section_space_definitions">
        <title>What is a Vector Space</title>
        <idx><h>vector space</h></idx>
        <subsection  xml:id="xy-coordinates">
            <title>Something Old, Something New</title>
            <p>
                Long ago an far away you learned to plot points in two dimensions with <m>x</m> and <m>y</m> coordinates:
            </p>
            <figure>
                <caption>A Few Points</caption>
                <image width="40%">
                    <latex-image>
                        <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
                        <![CDATA[
                            \tikz{
                                \draw[->] (-1,0) -- (3,0);
                                \draw[->] (0,-1) -- (0,3);
                                \node[anchor = west] at (3,0) {$x$};
                                \node[anchor = south] at (0,3) {$y$};
                                \draw[blue, fill=blue] (1,1) circle [radius = 3pt] node[anchor=west] {(1,1)};
                                \draw[red, fill=red] (0,2.5) circle [radius = 3pt] node[anchor=west] {(0,2.5)};
                                \draw[green!30!black, fill=green!30!black] (2,3) circle [radius = 3pt] node[anchor=west] {(2,3)};
                            }
                        ]]>
                    </latex-image>
                </image>
            </figure>
            <p>
                But, how can we understand this in terms of vectors and how can we most efficiently describe infinitely many points and vectors?
            </p>
            <sidebyside widths="60% 40%">
                <p>
                    The simplest thing to do would be to have a single vector like <m>\vec{v}=\left[ 2,3\right]</m>, but with infinitely many points to choose from this isn't very efficient.  A little better is to recognize that that can be written as a sum of two vectors like so
                    <me>\vec{v}=\left[ 2,3\right]=\left[ 2,0\right]+\left[ 0,3\right].</me> Best of all is to realize that this is a linear combination of our elementary vectors <me>\vec{v}=\left[ 2,3\right]=2\vec{e}_1+3\vec{e}_2.</me><idx><h>elementary vectors</h></idx>
                </p>
                <figure>
                    <caption>A Few Vectors</caption>
                    <image>
                        <latex-image>
                            <!-- CDATA prevents certain LaTeX code from being interpreted as xml -->
                            <![CDATA[
                                \tikz{
                                    \draw[->] (-1,0) -- (3,0);
                                    \draw[->] (0,-1) -- (0,3);
                                    \draw[very thick,->,red!50!blue] (0,0) -- (1.94,2.91);
                                    \node[red!50!blue,thick,anchor=south east] at (1.2,1.5) {$\left[ 2,3\right]$};
                                    \draw[very thick,->,blue] (1.94,0) -- (1.94,2.91);
                                    \node[blue,thick,anchor=west] at (2,1.5) {$\left[ 0,3\right]$};
                                    \draw[very thick,->,red] (0,0) -- (1.94,0);
                                    \node[red,thick,anchor=north] at (0.97,0) {$\left[ 2,0\right]$};
                                    \node[anchor = west] at (3,0) {$x$};
                                    \node[anchor = south] at (0,3) {$y$};
                                    \draw[green!30!black, fill=green!30!black] (2,3) circle [radius = 3pt] node[anchor=west] {(2,3)};
                                }
                            ]]>
                        </latex-image>
                    </image>
                </figure>
            </sidebyside>
            <p>
                Use what you learned in <xref ref="section_CAS_systems" /> to recreate the image above in the Sage Cell below.  Then adjust the Sage code in the cell to create similar pictures for the points <m>(1,3)</m>, <m>(-2,1)</m>, and <m>(-3,-2)</m>.  Are you convinced that you can always make this sort of picture?  Can you tell that this mens you can always write any vector as a combination of copies of the elementary vectors?
            </p>
            <sage>
                <input><xi:include href="sage_code/vector_spaces_cell.sage" parse="text" /></input>
                <output></output>
            </sage>
            <p>
                Because we can always write any vector (or describe steps to any point) using copies of elementary vectors <m>\vec{e}_1=[1,0]</m> and <m>\vec{e}_1=[1,0]</m> we say that they form a <term>basis</term><idx><h>basis</h></idx>, which we will explore in detail in the next section.  For now what this tells us is that we can describe all the points in <m>\mathbb{R}^2</m> as the set
                <me>
                    \mathbb{R}^2=\left\{a\, \vec{e}_1+b\, \vec{e}_2:a,b\in\mathbb{R}\right\}
                </me>
            </p>
        </subsection>
        <subsection  xml:id="polynomial_vectors">
            <title>It's Not All About the Arrows</title>
            <p>
                Consider the set of all quadratic polynomials
                <me>\mathcal{P_2}=\left\{ax^2+bx+c:a,b,c\in\mathbb{R}\right\}</me>
                which you should hopefully recognize as all the possible parabolas.  If we take two of these, <m>v(x)=2x^2+3x</m> and <m>u(x)=-x^2+5</m>, we can add and subtract them
                <me>
                    v(x)+u(x)=x^2+3x+5\ \mbox{ and }\ v(x)-u(x)=3x^2+3x-5,
                </me>
                we can multiply them by constants
                <me>
                    5u(x)=-5x^2+25,
                </me>
                and in fact we can take any linear combinations we would like
                <me>
                    -2v(x)+5u(x)=-9x^2-6x+25.
                </me>
                All of this means that we can manipulate these polynomials just like we vectors.  In fact if you look back at <xref ref="combining_vectors"/> you will see that the coefficients we used for <m>u(x)</m> and <m>v(x)</m> are the same as the entries we had in <m>\vec{u}</m> and <m>\vec{v}</m>.
            </p>
            <p>
                We can take the analogy even further by setting up systems of equations involving polynomials.  For example can we find scalars <m>a</m> and <m>b</m> such that <me>a\, v(x)+b\, u(x)=19x^2+21x-25?</me> Expanding the left hand side we get <me>2ax^2+3ax-bx^2+5b=19x^2+21x-25</me> which gives us three equations when we compare coefficients
                <md>
                    <mrow>2ax^2-bx^2\amp = 19</mrow>
                    <mrow>3ax\amp = 21</mrow>
                    <mrow>5b\amp= -25.</mrow>
                </md>
                By inspection (i.e. just looking at it for a minute) we can see that <m>a=7</m> and <m>b=-5</m>.
            </p>
            <p>
                Finally, one more observation.  If we let <m>e_2(x)=x^2</m>, <m>e_1(x)=x</m>, and <m>e_0(x)=1</m>, then we can write every possible quadratic polynomial (every parabola) as a combination of <m>e_2</m>, <m>e_1</m>, and <m>e_0</m>.  This means that we can define a set of elementary polynomials which we can combine to give us all the rest.  We can form a basis of polynomials.
            </p>
            <p>
                So, these quadratic polynomials can be added like vectors, they can be subtracted like vectors, they can be multiplied by scalars like vectors, they can be put together in linear combinations like vectors, and we can solve systems of equations with them just like vectors.  Therefore, they are in a very real sense vectors.
            </p>
        </subsection>
        <subsection>
            <title>It's Kinda All the Same</title>
            <definition xml:id="vector_space_def">
                <statement>
                    <p>
                        a <term>vector space</term><idx><h>vector space</h></idx> is a pair of sets, vectors and scalars, together with a pair of binary operations, addition and scalar multiplication, that satisfy the following conditions: if <m>v</m>, <m>u</m>, and <m>w</m> are vectors and <m>a</m> and <m>b</m> are scalars, then
                        <ul>
                            <li><m>a\,v +b\, v</m> is another vector (closure)</li>
                            <li>there exists a vector 0 such that <m>v+0=0+v=v</m> (additive identity)</li>
                            <li>for each <m>v</m> there exists <m>-v</m> such that <m>v+\, -v=-v+v=0</m> (additive inverses)</li>
                            <li>there exists a scalar 1 such that <m>1\, v=v</m> (multiplicative identity)</li>
                            <li><m>v+u=u+v</m> (commutative law)</li>
                            <li><m>(v+u)+w=v+(u+w)</m> and <m>(ab)v=a(bv)</m> (associative laws)</li>
                            <li><m>a(u+v)=au+av</m> and <m>(a+b)v=av+bv</m> (distributive laws)</li>
                        </ul>
                    </p>
                </statement>
            </definition>
            <p>
                As observed above the coefficients in <m>v(x)=2x^2+3x</m> and <m>u(x)=-x^2+5</m> are the same as the entries in <m>\vec{v}=[2,3,0]</m> and <m>\vec{u}=[-1,0,5]</m> in <xref ref="combining_vectors"/> and so we can rewrite the system we solved above as a vector equation
                <me>
                    a\, \vec{v}+b\, \vec{u} =
                    a\left[
                        \begin{array}{r}
                            2\\
                            3\\
                            0
                        \end{array}
                    \right]
                    +
                    b\left[
                        \begin{array}{r}
                            -1\\
                            0\\
                            5
                        \end{array}
                    \right]=
                    \left[
                        \begin{array}{r}
                            19\\
                            21\\
                            -25
                        \end{array}
                    \right]
                </me>
                which we can solve using techniques from the previous chapter.  That is we can solve the problem as follows:
                <md>
                    <mrow>
                        \left[
                            \begin{array}{rr|r}
                                2 \amp -1 \amp 19\\
                                3 \amp 0 \amp 21\\
                                0 \amp 5 \amp -25
                            \end{array}
                        \right]\amp\amp\amp
                        \stackrel{\large \frac{1}{3}R_2,\, \frac{1}{5}R_3}{\Huge \leadsto}\amp\amp
                        \left[
                            \begin{array}{rr|r}
                                2 \amp -1 \amp 19\\
                                1 \amp 0 \amp 7\\
                                0 \amp 1 \amp -5
                            \end{array}
                        \right]
                    </mrow>
                    <mrow>
                        \amp\amp\amp
                        \stackrel{\large Swap\ Rows}{\Huge \leadsto}\amp\amp
                        \left[
                            \begin{array}{rr|r}
                                1 \amp 0 \amp 7\\
                                0 \amp 1 \amp -5\\
                                2 \amp -1 \amp 19
                            \end{array}
                        \right]
                    </mrow>
                    <mrow>
                        \amp\amp\amp
                        \stackrel{\large R_3-2R_1+R_2}{\Huge \leadsto}\amp\amp
                        \left[
                            \begin{array}{rr|r}
                                1 \amp 0 \amp 7\\
                                0 \amp 1 \amp -5\\
                                0 \amp 0 \amp 0
                            \end{array}
                        \right]
                    </mrow>
                </md>
            </p>
            <p>
                What this hopefully highlights is that any two sets that satisfy <xref ref="vector_space_def"/> and in some sense are the same dimension then whatever we say about one we can say about the other.  And, any visualization of one is, in a way, also a visualization of the other.
            </p>
            <figure xml:id="subspace_example_1">
                <caption>Subspaces and Plains and Polynomials</caption>
                <interactive platform="sage" width="100%" aspect="1:1">
                    <slate surface="sage">
                        <xi:include href="sage_code/plains_and_vectors_cell.sage" parse="text"/>
                    </slate>
                </interactive>
            </figure>
            <p>
                Every point on that plain can be written as a combination of <m>\vec{v}=[2,3,0]</m> and <m>\vec{u}=[-1,0,5]</m> and so equivalently could be the coefficients for a polynomial of the form <m>f(x)=a\, v(x)+b\, u(x)</m>.  In particular we see that the point <m>(19,21,-15)</m> is on the plane.  But not all points are on the plain, for example we see that the point <m>(15,9,5)</m> is not, this means there does not exist <m>a</m> and <m>b</m> such that <m>a\, v(x)+b\, u(x)=15x^2+9x+5</m> or <m>a\vec{v}+b\vec{u}=[15,9,5]</m>.  In fact if we try to solve for <m>a</m> and <m>b</m> in the vector equation it doesn't work:
                <md>
                    <mrow>
                        \left[
                            \begin{array}{rr|r}
                                2 \amp -1 \amp 15\\
                                3 \amp 0 \amp 9\\
                                0 \amp 5 \amp 5
                            \end{array}
                        \right]\amp\amp\amp
                        \stackrel{\large \frac{1}{3}R_2,\, \frac{1}{5}R_3}{\Huge \leadsto}\amp\amp
                        \left[
                            \begin{array}{rr|r}
                                2 \amp -1 \amp 15\\
                                1 \amp 0 \amp 3\\
                                0 \amp 1 \amp -1
                            \end{array}
                        \right]
                    </mrow>
                    <mrow>
                        \amp\amp\amp
                        \stackrel{\large Swap\ Rows}{\Huge \leadsto}\amp\amp
                        \left[
                            \begin{array}{rr|r}
                                1 \amp 0 \amp 3\\
                                0 \amp 1 \amp -1\\
                                2 \amp -1 \amp 15
                            \end{array}
                        \right]
                    </mrow>
                    <mrow>
                        \amp\amp\amp
                        \stackrel{\large R_3-2R_1+R_2}{\Huge \leadsto}\amp\amp
                        \left[
                            \begin{array}{rr|r}
                                1 \amp 0 \amp 3\\
                                0 \amp 1 \amp -1\\
                                0 \amp 0 \amp 8
                            \end{array}
                        \right]
                    </mrow>
                </md>
                which implies <m>0=8</m>, which is nonsense.  We say then that all the linear combinations of <m>\vec{v}</m> and <m>\vec{u}</m> form a <term>subspace</term><idx><h>vector space</h><h>subspace</h></idx>, that is they form a vector space of their own, but don't give you every possible point.
            </p>
        </subsection>
        <conclusion>
            <title>Section Vocabulary</title>
            <p>
                Vector Space, Subspace
            </p>
        </conclusion>
    </section>

<!-- Linear independence and bases -->

    <section xml:id="section_bases">
        <title>Linear Independence and Bases</title>
        <idx><h>linear independence</h></idx><idx><h>basis</h></idx>
        <subsection>
            <title>Independence Day</title>
            <p>
                Consider the following set of vectors:
                <me>
                    S=\left\{
                        \left[
                            \begin{array}{r}
                                1 \\ 0
                            \end{array}
                        \right],
                        \left[
                            \begin{array}{r}
                                -4 \\ 1
                            \end{array}
                        \right],
                        \left[
                            \begin{array}{r}
                                1 \\ -2
                            \end{array}
                        \right]
                    \right\}
                </me>
                from our work in <xref ref="xy-coordinates" /> we know that each of these can be written as a combination of the elementary vectors <m>\vec{e}_1</m> and <m>\vec{e}_2</m>. They can also be written as combinations of each other like so:
                <me>
                        \left[
                            \begin{array}{r}
                                1 \\ -2
                            \end{array}
                        \right]=
                        -2\, 
                        \left[
                            \begin{array}{r}
                                -4 \\ 1
                            \end{array}
                        \right]-7\,
                        \left[
                            \begin{array}{r}
                                1 \\ 0
                            \end{array}
                        \right],
                </me>
                or
                <me>
                        \left[
                            \begin{array}{r}
                                1 \\ 0
                            \end{array}
                        \right]=
                        -\frac{2}{7}\, 
                        \left[
                            \begin{array}{r}
                                -4 \\ 1
                            \end{array}
                        \right]-\frac{1}{7}\,
                        \left[
                            \begin{array}{r}
                                1 \\ -2
                            \end{array}
                        \right],
                </me>
                or finally
                <me>
                        \left[
                            \begin{array}{r}
                                -4 \\ 1
                            \end{array}
                        \right]=
                        -\frac{1}{2}\, 
                        \left[
                            \begin{array}{r}
                                1 \\ -2
                            \end{array}
                        \right]-\frac{7}{2}\,
                        \left[
                            \begin{array}{r}
                                1 \\ 0
                            \end{array}
                        \right].
                </me>
                Because we can write these vectors in relation to each other in this way we say that they are <term>linearly dependent</term>.
            </p>
            <definition>
                <title>Linearly Independent</title>
                <idx><h>linearly independent</h></idx>
                <statement>
                    <p>
                        A set of vecotors, <m>S=\left\{\vec{v}_1,\vec{v}_2,\vec{v}_3,\ldots,\vec{v}_n\right\}</m> is <term>linearly independent</term> if no single vector in the set may be written as a linear combination of the other vectors in the set.  Equivalently, if the homogeneous system of equations
                        <me>
                            a_1\, \vec{v}_1+a_2\, \vec{v}_2+a_3\, \vec{v}_3+\cdots + a_n\, \vec{v}_n=\vec{0}
                        </me>
                        has only the trivial solution <m>a_i=0,\ \forall\, i</m>.  A set of vectors which are not linearly independent are called <term>linearly dependent</term><idx><h>linearly dependent</h></idx>.
                    </p>
                </statement>
            </definition>
            <p>
                In contrast to the example above here is a linearly independent:
                <me>
                    S=\left\{
                        \left[
                            \begin{array}{r}
                                1 \\ -2 \\ 0
                            \end{array}
                        \right],
                        \left[
                            \begin{array}{r}
                                1 \\ 1 \\ 0
                            \end{array}
                        \right],
                        \left[
                            \begin{array}{r}
                                1 \\ 0 \\1
                            \end{array}
                        \right]
                    \right\}.
                </me>
                We could demonstrate this with a lengthy argument about what combinations are possible or not possible, but it is better to set up and solve the system of equations
                <me>
                    a_1\,
                    \left[
                        \begin{array}{r}
                            1 \\ -2 \\ 0
                        \end{array}
                    \right]+a_2\, 
                    \left[
                        \begin{array}{r}
                            1 \\ 1 \\ 0
                        \end{array}
                    \right]+a_3\, 
                    \left[
                        \begin{array}{r}
                            1 \\ 0 \\1
                        \end{array}
                    \right]=
                    \vec{0}
                </me>
                and use the techniques from <xref ref="section_basic_systems" /> to show that <m>a_1=a_2=a_3=0</m>, that is that there is only one solution to this system.  In fact a linearly dependent set of vectors always corresponds to an underdetermined system with a free variable, which is why the first example above is really the same as <xref ref="underdetermined"/>.  A set of vectors which are linearly independent always correspond to a system which is overdetermined or which has the same number of variables as equations with no free variables like the vectors in <xref ref="system-example2"/> or <xref ref="overdetermined"/>.
            </p>
        </subsection>
        <subsection>
            <title>A Strong Foundation</title>
            <p>
                As mentioned above the vectors in <xref ref="overdetermined" /> are linearly independent, but the system is inconsistent, i.e. there is not solution in that example.  From the perspective of <xref ref="section_space_definitions" /> and in particular the example in <xref ref="subspace_example_1" /> the point <m>(7,2,16)</m> is not in the plain determined by the vectors <m>[3,1,0]</m> and <m>[2,-1,4]</m>.  Convince yourself of this by altering the Sage code below to plot the appropriate plain and point:
            </p>
            <sage>
                <input>
                    <xi:include href="sage_code/plains_and_vectors_cell.sage" parse="text"/>
                </input>
                <output></output>
            </sage>
            <p>
                The reason this happens is because the vectors <m>[3,1,0]</m> and <m>[2,-1,4]</m> do not form a <term>basis</term> for 3D space <m>\left(\mathbb{R}^3\right)</m>.
            </p>
            <definition>
                <title>Basis</title>
                <idx><h>basis</h></idx>
                <statement>
                    <p>
                        A <term>basis</term> is a set of vectors <m>\mathcal{B}=\left\{\vec{v}_1,\vec{v}_2,\vec{v}_3,\ldots,\vec{v}_n\right\}</m> such that there exists a unique solution to any equation of the form
                        <me>
                            a_1\, \vec{v}_1+a_2\, \vec{v}_2+a_3\, \vec{v}_3+\cdots + a_n\, \vec{v}_n=\vec{v}
                        </me>
                        for all <m>\vec{v}</m> in the given vector space.  The number of vectors required for a basis in a vector space is called the <term>dimension</term><idx><h>dimension</h></idx> of the vector space.
                    </p>
                </statement>
            </definition>
            <exercise xml:id="basis_exercise_1">
                <title>These Vectors are Too Few</title>
                <statement>
                    <p>
                        Try solving the system of equations:
                        <me>
                            a_1\,
                            \left[
                                \begin{array}{r}
                                    1 \\ -2 \\ 1
                                \end{array}
                            \right]+a_2\, 
                            \left[
                                \begin{array}{r}
                                    1 \\ 1 \\ 0
                                \end{array}
                            \right]=
                            \left[
                                \begin{array}{r}
                                    0 \\ 0 \\ 13
                                \end{array}
                            \right]
                        </me>
                        you should find that this system is inconsistent, this tells us that the two vectors on the left hand side do not form a basis for the vector space.
                    </p>
                </statement>
                <answer>
                    <p>
                        A reduced system should give you something like:
                        <me>
                            \left[
                                \begin{array}{rr|r}
                                    1 \amp 0 \amp 13\\
                                    0 \amp 1 \amp -13\\
                                    0 \amp 1 \amp 26\\
                                \end{array}
                            \right]
                        </me>
                        giving us the contradictory result that <m>a_2=26</m> and <m>a_2=-13</m>.  In terms of what we have been discussing this means that the point <m>(0,0,13)</m> is not in the plain generated by the two vectors.
                    </p>
                </answer>
            </exercise>
            <exercise xml:id="basis_exercise_2">
                <title>These Vectors are Too Many</title>
                <statement>
                    <p>
                        Try solving the system of equations:
                        <me>
                            a_1\,
                            \left[
                                \begin{array}{r}
                                    1 \\ -2 \\ 1
                                \end{array}
                            \right]+a_2\, 
                            \left[
                                \begin{array}{r}
                                    1 \\ 1 \\ 0
                                \end{array}
                            \right]+a_3\, 
                            \left[
                                \begin{array}{r}
                                    1 \\ 0 \\ 0
                                \end{array}
                            \right]+a_4\, 
                            \left[
                                \begin{array}{r}
                                    0 \\ 1 \\ 1
                                \end{array}
                            \right]=
                            \left[
                                \begin{array}{r}
                                    x \\ y \\ z
                                \end{array}
                            \right]
                        </me>
                        you should find that even though we don't know the values of <m>x</m>, <m>y</m>, and <m>z</m> this system is consistent and in fact there will always be a free variable/infinitely many solutions.
                    </p>
                </statement>
                <answer>
                    <p>
                        A reduced system should give you something like:
                        <me>
                            \left[
                                \begin{array}{rrrr|r}
                                    1 \amp 0 \amp 0 \amp 1 \amp z\\
                                    0 \amp 1 \amp 0 \amp 3 \amp y+2z\\
                                    0 \amp 0 \amp 1 \amp -4 \amp x-3z-y\\
                                \end{array}
                            \right]
                        </me>
                        so that <m>a_1=z-a_4</m>, <m>a_2=y+2z-3a_4</m>, <m>a_3=x-3z-y+4a_4</m>, and <m>a_4</m> is a free variable, so there are infinitely many solutions.  Written as a set of vectors we would say that the solutions are the set
                        <me>
                            \left\{
                                \left[
                                    \begin{array}{r}
                                        z \\ y+2z \\ x-3z-y
                                    \end{array}
                                \right]+
                                \left[
                                    \begin{array}{r}
                                        -1 \\ -3 \\ 4
                                    \end{array}
                                \right]\, t
                                :
                                t\in\mathbb{R}
                            \right\}.
                        </me>
                    </p>
                </answer>
            </exercise>
            <exercise xml:id="basis_exercise_3">
                <title>These Vectors are Just Right</title>
                <statement>
                    <p>
                        Try solving the system of equations:
                        <me>
                            a_1\,
                            \left[
                                \begin{array}{r}
                                    1 \\ -2 \\ 1
                                \end{array}
                            \right]+a_2\, 
                            \left[
                                \begin{array}{r}
                                    1 \\ 1 \\ 0
                                \end{array}
                            \right]+a_3\, 
                            \left[
                                \begin{array}{r}
                                    1 \\ 0 \\ 0
                                \end{array}
                            \right]=
                            \left[
                                \begin{array}{r}
                                    x \\ y \\ z
                                \end{array}
                            \right]
                        </me>
                        you should find that even though we don't know the values of <m>x</m>, <m>y</m>, and <m>z</m> this system is consistent and there will always be a unique solution.
                    </p>
                </statement>
                <answer>
                    <p>
                        A reduced system should give you something like:
                        <me>
                            \left[
                                \begin{array}{rrr|r}
                                    1 \amp 0 \amp 0 \amp z\\
                                    0 \amp 1 \amp 0 \amp y+2z\\
                                    0 \amp 0 \amp 1 \amp x-3z-y\\
                                \end{array}
                            \right]
                        </me>
                        so that <m>a_1=z</m>, <m>a_2=y+2z</m>, and <m>a_3=x-3z-y</m>. So, when we can place the coefficient matrix in reduced row echelon form with no extra columns or rows we get a unique solution.
                    </p>
                </answer>
            </exercise>
            <exercise xml:id="basis_exercise_4">
                <title>These Vectors are Tricky</title>
                <statement>
                    <p>
                        Try solving the system of equations:
                        <me>
                            a_1\,
                            \left[
                                \begin{array}{r}
                                    1 \\ -2 \\ 1
                                \end{array}
                            \right]+a_2\, 
                            \left[
                                \begin{array}{r}
                                    0 \\ 1 \\ 1
                                \end{array}
                            \right]+a_3\, 
                            \left[
                                \begin{array}{r}
                                    1 \\ -3 \\ 0
                                \end{array}
                            \right]=
                            \left[
                                \begin{array}{r}
                                    x \\ y \\ z
                                \end{array}
                            \right]
                        </me>
                        you should find that even though this looks similar to the previous exercise, there are in fact values for <m>x</m>, <m>y</m>, and <m>z</m> for which there is not solution.  Find and example of this and try to explain why this happens
                    </p>
                </statement>
                <answer>
                    <p>
                        A reduced system should give you something like:
                        <me>
                            \left[
                                \begin{array}{rrr|r}
                                    1 \amp 0 \amp 0 \amp x\\
                                    0 \amp 1 \amp -1 \amp y+2x\\
                                    0 \amp 0 \amp 0 \amp z-3x-y\\
                                \end{array}
                            \right]
                        </me>
                        so that if <m>z-2x-y</m> is not zero we get a contradiction in the last row.  An example of this being an inconsistent system would be <m>[x,y,z]=[1,1,4]</m>.  What this tells us is that the three vectors on the left hand side of the equation would form at most a plain and that some points such as <m>(1,1,4)</m> are not on that plain.
                    </p>
                </answer>
            </exercise>
        </subsection>
        <subsection xml:id="polynomial_basis">
            <title>The Quadratic Strikes Back</title>
            <p>
                It should hopefully be clear that by taking linear combinations of <m>1</m>, <m>x</m>, and <m>x^2</m> we can get any quadratic <m>a_0+a_1\, x+a_2\, x^2</m> thus the set <m>\mathcal{B}=\left\{1,x,x^2\right\}</m> is a basis for the set of all quadratics.  What is not so obvious is that so is the set <m>\mathcal{C}=\left\{1-2x+x^2, 1+x, 1\right\}</m>.  However, if we recognize/recall that we can relate systems of polynomials with vector equations then solving <me>a_0(1-2x+x^2)+a_1(1+x)+a_2(1)=b_0+b_1x+b_2x^2</me> is the same as solving
                <me>
                    a_1\,
                    \left[
                        \begin{array}{r}
                            1 \\ -2 \\ 1
                        \end{array}
                    \right]+a_2\, 
                    \left[
                        \begin{array}{r}
                            1 \\ 1 \\ 0
                        \end{array}
                    \right]+a_3\, 
                    \left[
                        \begin{array}{r}
                            1 \\ 0 \\ 0
                        \end{array}
                    \right]=
                    \left[
                        \begin{array}{r}
                            b_0 \\ b_1 \\ b_2
                        \end{array}
                    \right]
                </me>
                which is the same as <xref ref="basis_exercise_3" /> and so we know there is a solution.
            </p>
            <p>
                What this tells us is that we can apply the concept of basis to any type of vector space as long as it satisfies <xref ref="vector_space_def"/>.  Also, on a final note, for each vector space there is typically a basis which is considered the <term>standard basis</term><idx><h>standard basis</h></idx><idx><h>basis</h><h>standard basis</h></idx>.  For <m>\mathbb{R}^3</m> it is 
                <me>
                    \mathcal{E}=\left\{
                        \left[
                            \begin{array}{r}
                                1 \\ 0 \\ 0
                            \end{array}
                        \right],
                        \left[
                            \begin{array}{r}
                                0 \\ 1 \\ 0
                            \end{array}
                        \right],
                        \left[
                            \begin{array}{r}
                                0 \\ 0 \\1
                            \end{array}
                        \right]
                    \right\}
                </me>
                and for quadratic polynomials it is
                <me>
                    \mathcal{E}=\left\{1,x,x^2\right\}.
                </me>
                We will see in <xref ref="section_coordinates" /> that we will be able to directly relate the standard bases with any other bases.
            </p>
        </subsection>
        <conclusion>
            <title>Section Vocabulary</title>
            <p>
                Linearly Independent, Linearly Dependent, Basis, Standard Basis
            </p>
        </conclusion>
    </section>

<!-- Systems and Matrices -->

    <section xml:id="section_matrices_spaces">
        <title>Spaces, Systems, Matrices</title>
        <subsection>
            <title>A Rose by Any Other Name</title>
            <p>
                Consider the system of equations
                <md>
                    <mrow>x+3y-z\amp =0</mrow>
                    <mrow>y-z\amp =0.</mrow>
                </md>
                Using the techniques we have studied this simplifies to
                <md>
                    <mrow>x+2z\amp =0</mrow>
                    <mrow>y-z\amp =0</mrow>
                </md>
                so that the general solution is
                <md>
                    <mrow>x\amp =-2z</mrow>
                    <mrow>y\amp =z</mrow>
                </md>
                If we write the solutions as vectors we get
                <me>
                    \left[
                        \begin{array}{r}
                            -2 \\ 1 \\ 1
                        \end{array}
                    \right]z
                </me>
                so that both
                <me>
                    \left[
                        \begin{array}{r}
                            -4 \\ 2 \\ 2
                        \end{array}
                    \right]\mbox{ and }
                    \left[
                        \begin{array}{r}
                            6 \\ -3 \\ -3
                        \end{array}
                    \right]
                </me>
                will be solutions with <m>z=2</m> and <m>z=-3</m> respectively.  However, if we add or subtract these from each other
                <me>
                    \left[
                        \begin{array}{r}
                            -4 \\ 2 \\ 2
                        \end{array}
                    \right]+
                    \left[
                        \begin{array}{r}
                            6 \\ -3 \\ -3
                        \end{array}
                    \right]=
                    \left[
                        \begin{array}{r}
                            2 \\ -1 \\ -1
                        \end{array}
                    \right]\mbox{ or }
                    \left[
                        \begin{array}{r}
                            -4 \\ 2 \\ 2
                        \end{array}
                    \right]-
                    \left[
                        \begin{array}{r}
                            6 \\ -3 \\ -3
                        \end{array}
                    \right]=
                    \left[
                        \begin{array}{r}
                            -10 \\ 5 \\ 5
                        \end{array}
                    \right]
                </me>
                we get two more solutions.  What this tells us is that any multiple of a solution is a solution and any sum of two solutions is another solution; solutions therefore form a vector space of their own.  However since not all vectors in <m>\mathbb{R}^3</m> are solutions to the system, the solutions are a subspace of something larger.
            </p>
            <p>
                What we see here is another way to think of solutions to a system of equations.  The solutions of a homogeneous system of equations form a subspace.  Therefore we can talk about a basis for the solutions and the span of the solutions.  This is another example of how one idea can be looked at from different perspectives.
            </p>
        </subsection>
        <subsection>
            <title>A Universe in a Matrix</title>
            <introduction>
                <p>
                    If we let
                    <me>
                        A=
                        \left[
                            \begin{array}{rrr}
                                1 \amp 3 \amp -1\\
                                0 \amp 1 \amp -1\\
                            \end{array}
                        \right]
                    </me>
                    then there are three spacial subspaces associated with the matrix.  The <term>column space</term><idx><h>column space</h></idx> which is the set of all <m>\vec{b}</m> such that there is a solution for
                    <me>
                        A\vec{x}=\vec{b}.
                    </me>
                    The <term>row space</term><idx><h>row space</h></idx> which is the set of all <m>\vec{c}</m> such that there is a solution for
                    <me>
                        \vec{x}A=\vec{c}.
                    </me>
                    And, the <term>null space</term><idx><h>null space</h></idx> which is the set of all solutions to the homogeneous equation
                    <me>
                        A\vec{x}=\vec{0}.
                    </me>
                </p>
            </introduction>
            <subsubsection>
                <title>The Null Space</title>
                <p>
                    The null space is the simplest to explain.  In this case it is precisely the set of solutions we found above
                <me>
                    Null(A)=
                    \left\{
                        \left[
                            \begin{array}{r}
                                -2 \\ 1 \\ 1
                            \end{array}
                        \right]t:
                        t\in\mathbb{R}
                    \right\}
                </me>
                which is a subspace of <m>\mathbb{R}^3</m>.  Because of how matrix multiplication works the dimension the null space is in must always be the same as the number of columns in the matrix.
                </p>
            </subsubsection>
            <subsubsection>
                <title>The Column Space</title>
                <p>
                    The column space is a little harder.  Consider the equation
                    <me>
                        A\vec{x}=\vec{b}\equiv
                        \left[
                            \begin{array}{rrr}
                                1 \amp 3 \amp -1\\
                                0 \amp 1 \amp -1\\
                            \end{array}
                        \right]
                        \left[
                            \begin{array}{r}
                                x_1\\ x_2\\ x_3
                            \end{array}
                        \right]=
                        \left[
                            \begin{array}{r}
                                b_1\\ b_2
                            \end{array}
                        \right] 
                    </me>
                    We can write this as a linear combination of vectors from <m>\mathbb{R}^2</m>
                    <me>
                        \left[
                            \begin{array}{r}
                                1\\ 0
                            \end{array}
                        \right]x_1+ 
                        \left[
                            \begin{array}{r}
                                3\\ 1
                            \end{array}
                        \right]x_2+
                        \left[
                            \begin{array}{r}
                                -1\\ -1
                            \end{array}
                        \right]x_3=
                        \left[
                            \begin{array}{r}
                                b_1\\ b_2
                            \end{array}
                        \right].                      
                    </me>
                    Thus the column space, unlike the null space, is in this case in <m>\mathbb{R}^2</m>.  In general the dimension the column space is on is the same as the number of rows in the matrix.
                </p>
                <p>
                    If we let <m>x_1=2</m> and <m>x_2=-1</m> then
                    <me>
                        \left[
                            \begin{array}{r}
                                1\\ 0
                            \end{array}
                        \right]x_1+ 
                        \left[
                            \begin{array}{r}
                                3\\ 1
                            \end{array}
                        \right]x_2=
                        2
                        \left[
                            \begin{array}{r}
                                1\\ 0
                            \end{array}
                        \right]- 
                        \left[
                            \begin{array}{r}
                                3\\ 1
                            \end{array}
                        \right]=
                        \left[
                            \begin{array}{r}
                                -1\\ -1
                            \end{array}
                        \right].
                    </me>
                    That is we don't really need the third vector, the basis for the column space of <m>A</m> is therefore
                    <me>
                        Col(A)=
                        \left\{
                        \left[
                            \begin{array}{r}
                                1\\ 0
                            \end{array}
                        \right]s+ 
                        \left[
                            \begin{array}{r}
                                3\\ 1
                            \end{array}
                        \right]t:
                        s,t\in\mathbb{R}
                        \right\}.
                    </me>
                    With a little work you should be able to, at this point, convince yourself that that includes every point in <m>\mathbb{R}^3</m>.
                </p>
            </subsubsection>
            <subsubsection>
                <title>The Row Space</title>
                <p>
                    row space
                </p>
            </subsubsection>
        </subsection>
        <conclusion>
            <title>Section Vocabulary</title>
            <p>
                Column Space, Row Space, Null Space
            </p>
        </conclusion>
    </section>

<!-- CAS and Systems -->

    <section xml:id="section_CAS_spaces">
        <title>CAS - Visualizing Subspaces</title>
        <p>
            <url href="http://joshua.smcvt.edu/linearalgebra/lab.pdf">Sage Lab Manual</url> Some Content!!!
        </p>
        <p>Subspace of <m>\mathbb{R}^3</m></p>
        <sage>
            <input><xi:include href="sage_code/plains_and_vectors_cell.sage" parse="text" /></input>
            <output></output>
        </sage>

    </section>

<!-- Supplementary Material -->

    <section xml:id="section_supplement_spaces">
        <title>Supplementary Material</title>
            <figure>
                    <!-- <title>Modern Marvels: Codes</title> -->
                    <caption>Gaussian Elimination</caption>
                    <video youtube="qbWDZM4qgEk" />
            </figure>
    </section>

    <section xml:id="section_supplement_structures">
        <title>Preview of Algebraic Structures</title>
        <p>In this section we preview algebraic structures as a generalization of the idea of a vector space.</p>
    </section>

<!-- Exercises -->

    <exercises xml:id="section_exercises_spaces">
        <title>Exercises and Practice Exam on Systems of Equations</title>
        <introduction>
            <p>
                <alert>Textbook Exercises:</alert>
            </p>
            <p>
                These are the exercises from <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf">Hefferon's text</url> which you need to hand in as part of your grade.  The solutions to these are available in the <url href="http://joshua.smcvt.edu/linearalgebra/jhanswer.pdf"><em>Answers to Exercises</em></url> supplement, but you need to, to the best of your ability, answer them in your own words.
                <ul>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=96">Definition and Examples of Spaces (p.86): 30</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=107">Subspaces and Spanning Set (p.97): 43</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=119">Definitions and Examples of Independence (p.109): 35, Extra Credit for 43</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=128">Basis (p.118): 29</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=135">Dimension (p.125): 22, Extra Credit fo 33</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=143">Vector Spaces and Linear Systems (p.133): 29 and 30</url> </li>
                </ul>
            </p>
            <p>
                <alert>Practice Exercises:</alert>
            </p>
            <p>
                Here are some exercises from the <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf">Hefferon's text</url> which you should try, the answers to all of these can be found in the <url href="http://joshua.smcvt.edu/linearalgebra/jhanswer.pdf"><em>Answers to Exercises</em></url> supplement for Hefferon's text.  You do not need to hand in these exercises.
                <ul>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=96">Definition and Examples of Spaces (p.86): 17,18,19,22</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=107">Subspaces and Spanning Set (p.97): 20,22,25,26</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=119">Definitions and Examples of Independence (p.109): 20,21,22,32</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=128">Basis (p.118): 18,19,20,23,33,35</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=135">Dimension (p.125): 16,17,18</url> </li>
                    <li> <m>\S</m> - <url href="http://joshua.smcvt.edu/linearalgebra/book.pdf#page=143">Vector Spaces and Linear Systems (p.133): 16-25</url> </li>
                </ul>
            </p>
        </introduction>
        <exercisegroup>
            <introduction>
                <p>
                    <alert>Practice Exam:</alert>
                </p>
                <p>
                    In addition to the practice problems above below are the questions for your practice exam, these must be turned in when you come in for the exam.  The practice exam counts for 5% of your exam grade and can earn you back 15% of any points you loose on the in-class portion of the exam.
                </p>
            </introduction>
            <exercise>
                <statement>
                    <p>
                        Given a vector space <me>H=span\{\vec{v_1},\vec{v_3},\vec{v_3}\}</me> and <me>-3\vec{v_1}+2\vec{v_2}+\vec{v_3}=\vec{0},</me> assuming that <m>\vec{v_i}\neq\vec{0}</m> and that they are not multiples of one another, what is a possible basis for <m>H</m>?  What is the dimension of <m>H</m>?
                    </p>
                </statement>
                <hint>
                    <p>
                        In the definition of a basis what conditions must it satisfy?
                    </p>
                </hint>
            </exercise>

            <exercise>
                <statement>
                    <p>
                        Find <m>n</m> such that <m>Row\ A</m> is a subspace of <m>\mathbb{R}^n</m> and find <m>m</m> such that <m>Col\ A</m> is a subspace of <m>\mathbb{R}^m</m> given
                        <me>
                            A=
                            \left[
                                \begin{array}{rrrr}
                                    1 \amp 13 \amp 5 \amp 0 \\
                                    0 \amp 1 \amp 4 \amp 1
                                \end{array}
                            \right].
                        </me>
                    </p>
                </statement>
            </exercise>

            <exercise>
                <statement>
                    <p>
                        Find a matrix <m>A</m> such that the given set is <m>Col\ A</m>.
                        <me>
                            V=
                            \left\{
                                \left[
                                    \begin{array}{r}
                                        3r-2s\\
                                        s-4t\\
                                        -r+4t\\
                                        r+2s+t
                                    \end{array}
                                \right]:r,s,t\in\mathbb{R}
                            \right\}
                        </me>
                    </p>
                </statement>
                <hint>
                    <p>
                        Rewrite the vectors described in the set as a linear combination of multiple vectors.
                    </p>
                </hint>
            </exercise>

            <exercise>
                <statement>
                    <p>
                        Find bases for <m>Row\ A</m> and <m>Col A</m> given:
                        <me>
                            A=
                            \left[
                                \begin{array}{rrrr}
                                    5 \amp 0 \amp 25 \amp 10 \\
                                    3 \amp 1 \amp 15 \amp 5  \\
                                    2 \amp -1 \amp 10 \amp 5 
                                \end{array}
                            \right].
                        </me>
                    </p>
                </statement>
                <hint>
                    <p>
                        You may need to row reduce the matrix to get an idea of what is happening.
                    </p>
                </hint>
            </exercise>


            <exercise>
                <statement>
                    <p>
                        Given a <m>7\times3</m> matrix, what are the maximum and minimum dimensions for the row and column spaces?
                    </p>
                </statement>
            </exercise>

            <exercise>
                <statement>
                    <p>
                        Give a basis for the space
                        <me>
                            \mathcal{P}_3=\left\{a_0+a_1x+a_2x^2+a_3x^3\right\}
                        </me>
                        then list three distinct elements of the space.
                    </p>
                </statement>
            </exercise>


            <exercise>
                <statement>
                    <p>
                        Is the given vector in the span of the given set?
                        <me>
                            \vec{v}=
                            \left[
                                \begin{array}{r}
                                    7\\
                                    3\\
                                    13
                                \end{array}
                            \right]
                            \mbox{ and }
                            S=
                            \left\{
                            \left[
                                \begin{array}{r}
                                    -1\\
                                    7\\
                                    0
                                \end{array}
                            \right],
                            \left[
                                \begin{array}{r}
                                    1\\
                                    5\\
                                    0
                                \end{array}
                            \right]
                            \right\}
                        </me>
                    </p>
                </statement>
                <hint>
                    <p>
                        You can try to look at the problem as a set of equations, but try not to over think it.
                    </p>
                </hint>
            </exercise>


            <exercise>
                <statement>
                    <p>
                        Show that
                        <me>
                            S=
                            \left\{
                            \left[
                                \begin{array}{r}
                                    -1\\
                                    0\\
                                    2
                                \end{array}
                            \right],
                            \left[
                                \begin{array}{r}
                                    1\\
                                    5\\
                                    0
                                \end{array}
                            \right]
                            \right\}
                        </me>
                        are linearly independent and write
                        <me>
                            \vec{v}=
                            \left[
                                \begin{array}{r}
                                    -2\\
                                    25\\
                                    14
                                \end{array}
                            \right]
                        </me>
                        as a linear combination of the two.
                    </p>
                </statement>
                <hint>
                    <p>
                        Think in terms of vector equations, but again stop and think before you start to calculate.
                    </p>
                </hint>
            </exercise>


            <exercise>
                <statement>
                    <p>
                        Find a basis for the solution set of this system:
                        <md>
                            <mrow>x_1+x_2+x_3+x_4\amp =0</mrow>
                            <mrow>-x_2+7x_3-4x_4\amp =0</mrow>
                            <mrow>x_1+8x_3-3x_4\amp =0</mrow>
                        </md>
                    </p>
                </statement>
            </exercise>


            <exercise>
                <statement>
                    <p>
                        Find the basis and dimension of the vector space:
                        <me>
                            V=
                            \left\{
                                \left[
                                    \begin{array}{r}
                                        r\\
                                        s\\
                                        t\\
                                        w
                                    \end{array}
                                \right]:r,s,t,w\in\mathbb{R}\mbox{ and }r+2t-w=0
                            \right\}
                        </me>
                    </p>
                </statement>
            </exercise>
        </exercisegroup>
    </exercises>



</chapter>

